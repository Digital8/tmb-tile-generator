(this["webpackJsonpmake-hello-world"]=this["webpackJsonpmake-hello-world"]||[]).push([[0],{43:function(t,e){},59:function(t,e,n){},60:function(t,e,n){"use strict";n.r(e);var c=n(4),a=n(0),o=n.n(a),i=n(5),r=n(19),s=n.n(r),u=n(2),l=n.n(u),f=n(26),d=n.n(f),h=n(3),b=new(n(27).Chance),x=n(12),j=n(7),p=n(11),v=n(64),g=n(31),m=n(65),O=n(66),w=n(28),y=n.n(w),k=n(29),S=n(1),E=["layout","colors","distribution","gap","font","metrics","fontSize"],z=["x","y"],B=["text","background","colors","font"],C=512,F=Math.random;function A(t){return M.apply(this,arguments)}function M(){return(M=Object(i.a)(o.a.mark((function t(e){var n,a,i,r,s,u,l,f,d,h,b;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.text,a=e.background,i=e.colors,r=e.font,s=Object(x.a)(e,B),u="blankie",l=new FontFace(u,'url("'.concat(null!==r&&void 0!==r?r:"https://thatsmyblankie.wpengine.com/wp-content/themes/picostrap-child/fonts/customiser/UnicornsareAwesome.woff2",'")')),t.next=6,l.load();case 6:return document.fonts.add(l),f=L({fontFamily:u,text:n}),d=U({font:"".concat(f,"px ").concat(u),text:n}),h=new T(Object(c.a)({font:u,text:n,metrics:d,fontSize:f,background:a,colors:i},s)),b=h.toCanvas(),t.abrupt("return",b.toDataURL());case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var T=function(){function t(e){if(Object(j.a)(this,t),this.text=void 0,this.texts=void 0,this.fontSize=void 0,this.gap=void 0,this.fontFamily=void 0,this.background=void 0,this.metrics=void 0,this.layout=void 0,e.texts)Object.assign(this,e);else{var n=e.layout,a=e.colors,o=e.distribution,i=void 0===o?"plastic":o,r=e.gap,s=void 0===r?.1:r,u=e.font,l=e.metrics,f=e.fontSize,d=Object(x.a)(e,E),b=function(){if("stacked"===n)return Array.from({length:4}).map((function(t,e){return{x:.5*e-1,y:0,size:1,color:a[a.length*F()|0]}}));for(var t={halton:v.a.bind(null,[2,3]),kronecker:g.b.bind(null,[1/Math.pow(2,.5),1/Math.pow(5,.5)]),plastic:m.a.bind(null,2)}[i](null!==0?0:1024*F()|0),e=Array.from(Object(O.a)(32,t)).map((function(t){var e=Object(h.a)(t,2);return{x:2*e[0]-1,y:2*e[1]-1,size:.75+.75*F(),color:a[a.length*F()|0]}})),c=function(t){return{left:l.actualBoundingBoxLeft*t,right:l.actualBoundingBoxRight*t,ascent:l.actualBoundingBoxAscent*t,descent:l.actualBoundingBoxDescent*t}},o=function(){var t=[];e.forEach((function(e){delete e.op;var n=c(e.size);D(e,(function(c){var a=(c.x+1)/2*C,o=(1-c.y)/2*C,i=a-n.left,r=o-n.ascent,s=[i,r,i+n.left+n.right,r+n.ascent+n.descent];s.text=e,t.push(s)}))})),y()(t,(function(e,n){[e,n].forEach((function(e){return t[e].text.op="shrink"}))}));e.forEach((function(t){t.size*="shrink"===t.op?.995:1.005}))},r=0;r<256;r++)o();return e}();Object.assign(this,Object(c.a)(Object(c.a)({},d),{},{texts:b,fontSize:f,fontFamily:u,gap:s,metrics:l}))}}return Object(p.a)(t,[{key:"toCanvas",value:function(){var t=this,e=document.createElement("canvas");e.width=C,e.height=C;var n=e.getContext("2d");n.textAlign="center",n.textBaseline="alphabetic";var c=function(e){n.font="".concat(t.fontSize*e.size*(1-t.gap),"px ").concat(t.fontFamily),n.fillStyle=e.color,D(e,(function(e){var c=(e.x+1)/2*C,a=(1-e.y)/2*C;n.fillText(t.text,c,a)}))};return n.fillStyle=t.background,n.fillRect(0,0,C,C),t.texts.forEach(c),e}},{key:"toDataURL",value:function(){return this.toCanvas().toDataURL()}},{key:"toSVG",value:function(){var t=this;return Object(k.renderToStaticMarkup)(Object(S.jsx)("svg",{style:{width:512,height:512,background:this.background},xmlns:"http://www.w3.org/2000/svg",children:this.texts.flatMap((function(e){var n=[],c="".concat(t.fontSize*e.size*(1-t.gap),"px");return D(e,(function(a){var o=(a.x+1)/2*C,i=(1-a.y)/2*C;n.push(Object(S.jsx)("text",{x:o,y:i,style:{fontSize:c,fontFamily:t.fontFamily},textAnchor:"middle",fill:e.color,children:t.text}))})),n}))}))}}]),t}();function D(t,e){for(var n=t.x,a=t.y,o=Object(x.a)(t,z),i=-1;i<=1;i++)for(var r=-1;r<=1;r++)e(Object(c.a)(Object(c.a)({},o),{},{x:2*i+n,y:2*r+a}))}function L(t){var e=t.fontFamily,n=t.text;return 128/U({font:"".concat(64,"px ").concat(e),text:n}).width*64}function U(t){var e=t.font,n=t.text,c=document.createElement("canvas");c.width=C,c.height=C;var a=c.getContext("2d");return a.textAlign="center",a.textBaseline="alphabetic",a.font=e,a.measureText(n)}function J(t){var e,n=Object(u.useState)(["#DA97B2","#7EBCBE","#676396"]),c=Object(h.a)(n,2),a=c[0],r=c[1],s=Object(u.useState)(""),l=Object(h.a)(s,2),f=l[0],d=l[1],x=Object(u.useState)(b.pickone(["#111111","#EEEEEE"])),j=Object(h.a)(x,2),p=j[0],v=j[1],g=Object(u.useState)("https://thatsmyblankie.wpengine.com/wp-content/themes/picostrap-child/fonts/customiser/UnicornsareAwesome.woff2"),m=Object(h.a)(g,2),O=m[0],w=m[1],y=Object(u.useState)(null!==(e=t.text)&&void 0!==e?e:b.first()),k=Object(h.a)(y,2),E=k[0],z=k[1],B=Object(u.useState)(null),C=Object(h.a)(B,2),F=C[0],M=C[1];return Object(u.useEffect)((function(){Object(i.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=M,t.next=3,A({background:p,colors:a,text:E,font:O,layout:f});case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})))()}),[]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"Layout"}),Object(S.jsx)("input",{value:f,onChange:function(t){return d(t.target.value)}})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"Font"}),Object(S.jsx)("input",{value:O,onChange:function(t){return w(t.target.value)}})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"Text"}),Object(S.jsx)("input",{value:E,onChange:function(t){return z(t.target.value)}})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"Background"}),Object(S.jsx)("input",{value:p,onChange:function(t){return v(t.target.value)}})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"Colors"}),Object(S.jsx)("input",{value:JSON.stringify(a),onChange:function(t){return r(JSON.parse(t.target.value))}})]}),Object(S.jsx)("div",{children:F?Object(S.jsx)("img",{src:F}):null})]})}n(59);var R=window.templateProps,N=void 0===R?{}:R;if(window.location.search.length>1){var G=s.a.parse(window.location.search.slice(1));Object.assign(N,G)}if(N.svg)Object(i.a)(o.a.mark((function t(){var e,n,c,a,i,r,s,u,l,f,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=N.text,c=N.background,a=N.colors,i=null!==(e=N.font)&&void 0!==e?e:"https://thatsmyblankie.wpengine.com/wp-content/themes/picostrap-child/fonts/customiser/UnicornsareAwesome.woff2",r="blankie",s=new FontFace(r,'url("'.concat(i,'")')),t.next=6,s.load();case 6:document.fonts.add(s),u=L({fontFamily:r,text:n}),l=U({font:"".concat(u,"px ").concat(r),text:n}),f=new T({font:r,text:n,metrics:l,fontSize:u,background:c,colors:a}),d=document.createElement("div"),N.debug?d.innerText=JSON.stringify(N):d.innerHTML=f.toSVG(),document.body.appendChild(d);case 13:case"end":return t.stop()}}),t)})))();else if(N.pdf){var V=document.createElement("img");V.src="https://cdn.make.cm/make/t/ba4c9684-a7af-4ca3-b929-291d6c196be3/k/639f5a8a-3056-48ff-bc67-c7613b9ecdca.b6d6a70ce98c5defcbc0282c9660dbc9/sync?".concat(s.a.stringify({format:"svg",customSize:{width:"512",height:"512",unit:"px"},data:Object(c.a)(Object(c.a)({},N),{},{pdf:!1,svg:!0}),fetchedAt:(new Date).getTime().toString()})),document.body.appendChild(V)}else d.a.render(Object(S.jsx)(l.a.StrictMode,{children:Object(S.jsx)(J,Object(c.a)({},N))}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.de1eaa9a.chunk.js.map