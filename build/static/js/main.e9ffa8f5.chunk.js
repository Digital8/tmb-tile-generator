(this["webpackJsonpmake-hello-world"]=this["webpackJsonpmake-hello-world"]||[]).push([[0],{43:function(t,e){},59:function(t,e,n){},60:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),o=n(4),i=n(9),r=n(5),s=n(19),l=n.n(s),u=n(2),d=n.n(u),f=n(26),b=n.n(f),h=n(3),x=new(n(27).Chance),j=n(7),p=n(12),v=n(64),g=n(31),O=n(65),m=n(66),w=n(28),y=n.n(w),k=n(29),S=n(0),B=["background","text","layout","colors","distribution","gap","font","metrics","fontSize"],E=["x","y"],z=["text","background","colors","font"],C=512,F=Math.random;function A(t){return M.apply(this,arguments)}function M(){return(M=Object(r.a)(c.a.mark((function t(e){var n,a,r,s,l,u,d,f,b,h,x;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.text,a=e.background,r=e.colors,s=e.font,l=Object(i.a)(e,z),u="blankie",d=new FontFace(u,'url("'.concat(null!==s&&void 0!==s?s:"https://thatsmyblankie.wpengine.com/wp-content/themes/picostrap-child/fonts/customiser/UnicornsareAwesome.woff2",'")')),t.next=6,d.load();case 6:return document.fonts.add(d),f=L({fontFamily:u,text:n}),b=U({font:"".concat(f,"px ").concat(u),text:n}),h=new D(Object(o.a)({font:u,text:n,metrics:b,fontSize:f,background:a,colors:r},l)),x=h.toCanvas(),t.abrupt("return",x.toDataURL());case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var D=function(){function t(e){if(Object(j.a)(this,t),this.text=void 0,this.texts=void 0,this.fontSize=void 0,this.gap=void 0,this.fontFamily=void 0,this.background=void 0,this.metrics=void 0,this.layout=void 0,e.texts)Object.assign(this,e);else{var n=e.background,a=void 0===n?"transparent":n,c=e.text,r=e.layout,s=e.colors,l=void 0===s?["#111111"]:s,u=e.distribution,d=void 0===u?"plastic":u,f=e.gap,b=void 0===f?.1:f,x=e.font,p=e.metrics,w=e.fontSize,k=Object(i.a)(e,B),S=function(){if("stacked"===r){for(var t=U({font:"".concat(w,"px ").concat(x),text:c}),e=Math.floor(C/(t.actualBoundingBoxAscent+t.actualBoundingBoxDescent)),n=[],a=0;a<e;a++)for(var o=.5*Math.random(),i=0;i<4;i++)n.push({x:.5*i-1+o,y:2/e*a-1,size:1,color:l[l.length*F()|0]});return n}for(var s={halton:v.a.bind(null,[2,3]),kronecker:g.b.bind(null,[1/Math.pow(2,.5),1/Math.pow(5,.5)]),plastic:O.a.bind(null,2)}[d](null!==0?0:1024*F()|0),u=Array.from(Object(m.a)(32,s)).map((function(t){var e=Object(h.a)(t,2);return{x:2*e[0]-1,y:2*e[1]-1,size:.75+.75*F(),color:l[l.length*F()|0]}})),f=function(t){return{left:p.actualBoundingBoxLeft*t,right:p.actualBoundingBoxRight*t,ascent:p.actualBoundingBoxAscent*t,descent:p.actualBoundingBoxDescent*t}},b=function(){var t=[];u.forEach((function(e){delete e.op;var n=f(e.size);T(e,(function(a){var c=(a.x+1)/2*C,o=(1-a.y)/2*C,i=c-n.left,r=o-n.ascent,s=[i,r,i+n.left+n.right,r+n.ascent+n.descent];s.text=e,t.push(s)}))})),y()(t,(function(e,n){[e,n].forEach((function(e){return t[e].text.op="shrink"}))}));u.forEach((function(t){t.size*="shrink"===t.op?.995:1.005}))},j=0;j<256;j++)b();return u}();Object.assign(this,Object(o.a)({text:c,texts:S,fontSize:w,fontFamily:x,gap:b,metrics:p,background:a},k))}}return Object(p.a)(t,[{key:"toCanvas",value:function(){var t=this,e=document.createElement("canvas");e.width=C,e.height=C;var n=e.getContext("2d");n.textAlign="center",n.textBaseline="alphabetic";var a=function(e){n.font="".concat(t.fontSize*e.size*(1-t.gap),"px ").concat(t.fontFamily),n.fillStyle=e.color,T(e,(function(e){var a=(e.x+1)/2*C,c=(1-e.y)/2*C;n.fillText(t.text,a,c)}))};return n.fillStyle=t.background,n.fillRect(0,0,C,C),t.texts.forEach(a),e}},{key:"toDataURL",value:function(){return this.toCanvas().toDataURL()}},{key:"toSVG",value:function(){var t=this;return Object(k.renderToStaticMarkup)(Object(S.jsx)("svg",{style:{width:512,height:512,background:this.background},xmlns:"http://www.w3.org/2000/svg",children:this.texts.flatMap((function(e){var n=[],a="".concat(t.fontSize*e.size*(1-t.gap),"px");return T(e,(function(c){var o=(c.x+1)/2*C,i=(1-c.y)/2*C;n.push(Object(S.jsx)("text",{x:o,y:i,style:{fontSize:a,fontFamily:t.fontFamily},textAnchor:"middle",fill:e.color,children:t.text}))})),n}))}))}}]),t}();function T(t,e){for(var n=t.x,a=t.y,c=Object(i.a)(t,E),r=-1;r<=1;r++)for(var s=-1;s<=1;s++)e(Object(o.a)(Object(o.a)({},c),{},{x:2*r+n,y:2*s+a}))}function L(t){var e=t.fontFamily,n=t.text;return 128/U({font:"".concat(64,"px ").concat(e),text:n}).width*64}function U(t){var e=t.font,n=t.text,a=document.createElement("canvas");a.width=C,a.height=C;var c=a.getContext("2d");return c.textAlign="center",c.textBaseline="alphabetic",c.font=e,c.measureText(n)}function J(t){var e,n,a,o,i,s,l=Object(u.useState)(null!==(e=t.colors)&&void 0!==e?e:["#DA97B2","#7EBCBE","#676396"]),d=Object(h.a)(l,2),f=d[0],b=d[1],j=Object(u.useState)(null!==(n=t.layout)&&void 0!==n?n:""),p=Object(h.a)(j,2),v=p[0],g=p[1],O=Object(u.useState)(null!==(a=t.background)&&void 0!==a?a:x.pickone(["#111111","#EEEEEE"])),m=Object(h.a)(O,2),w=m[0],y=m[1],k=Object(u.useState)(null!==(o=t.font)&&void 0!==o?o:"https://thatsmyblankie.wpengine.com/wp-content/themes/picostrap-child/fonts/customiser/UnicornsareAwesome.woff2"),B=Object(h.a)(k,2),E=B[0],z=B[1],C=Object(u.useState)(null!==(i=t.text)&&void 0!==i?i:x.first()),F=Object(h.a)(C,2),M=F[0],D=F[1],T=Object(u.useState)(null),L=Object(h.a)(T,2),U=L[0],J=L[1],R=Object(u.useState)(null!==(s=t.gap)&&void 0!==s?s:.1),G=Object(h.a)(R,2),N=G[0],V=G[1];return Object(u.useEffect)((function(){Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=J,t.next=3,A({background:w,colors:f,text:M,font:E,layout:v,gap:N});case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})))()}),[w,f,M,E,v,N]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"Font"}),Object(S.jsx)("input",{value:E,onChange:function(t){return z(t.target.value)}})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"Text"}),Object(S.jsx)("input",{value:M,onChange:function(t){return D(t.target.value)}})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"Background"}),Object(S.jsx)("input",{value:w,onChange:function(t){return y(t.target.value)}})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"Colors"}),Object(S.jsx)("input",{value:JSON.stringify(f),onChange:function(t){return b(JSON.parse(t.target.value))}})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"Layout"}),Object(S.jsxs)("select",{value:v,onChange:function(t){return g(t.target.value)},children:[Object(S.jsx)("option",{value:""}),Object(S.jsx)("option",{value:"stacked",children:"stacked"})]})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"Gap"}),Object(S.jsx)("input",{type:"number",step:"0.1",value:N,onChange:function(t){return V(parseFloat(t.target.value))}})]}),Object(S.jsx)("div",{children:U?Object(S.jsx)("img",{src:U}):null})]})}n(59);var R=["text","font"],G=window.templateProps,N=void 0===G?{}:G;if(window.location.search.length>1){var V=l.a.parse(window.location.search.slice(1));Object.assign(N,V)}if(N.svg)Object(r.a)(c.a.mark((function t(){var e,n,a,r,s,l,u,d,f;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=N.text,n=N.font,a=Object(i.a)(N,R),r="blankie",s=new FontFace(r,'url("'.concat(null!==n&&void 0!==n?n:"https://thatsmyblankie.wpengine.com/wp-content/themes/picostrap-child/fonts/customiser/UnicornsareAwesome.woff2",'")')),t.next=6,s.load();case 6:document.fonts.add(s),l=L({fontFamily:r,text:e}),u=U({font:"".concat(l,"px ").concat(r),text:e}),d=new D(Object(o.a)({font:r,text:e,metrics:u,fontSize:l},a)),f=document.createElement("div"),N.debug?f.innerText=JSON.stringify(N):f.innerHTML=d.toSVG(),document.body.appendChild(f);case 13:case"end":return t.stop()}}),t)})))();else if(N.pdf){var H=document.createElement("img");H.src="https://cdn.make.cm/make/t/ba4c9684-a7af-4ca3-b929-291d6c196be3/k/639f5a8a-3056-48ff-bc67-c7613b9ecdca.b6d6a70ce98c5defcbc0282c9660dbc9/sync?".concat(l.a.stringify({format:"svg",customSize:{width:"512",height:"512",unit:"px"},data:Object(o.a)(Object(o.a)({},N),{},{pdf:!1,svg:!0}),fetchedAt:(new Date).getTime().toString()})),document.body.appendChild(H)}else b.a.render(Object(S.jsx)(d.a.StrictMode,{children:Object(S.jsx)(J,Object(o.a)({},N))}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.e9ffa8f5.chunk.js.map