(this["webpackJsonpmake-hello-world"]=this["webpackJsonpmake-hello-world"]||[]).push([[0],{50:function(t,n,e){},51:function(t,n,e){"use strict";e.r(n);var o=e(5),a=e(3),i=e.n(a),c=e(26),r=e.n(c),s=e(0),u=e.n(s),l=e(27),f=e(2),d=e(33);function x(){return new Worker(e.p+"static/js/worker.5717437d.worker.js")}var h=new(e(28).Chance),g=e(20),v=e(7),b=e(14),j=e(55),p=e(32),B=e(56),O=e(57),m=e(29),y=e.n(m),w=e(30),k=e(1),S=["colors","distribution","gap","font","metrics","fontSize"],E=["x","y"],z=512,A=Math.random,D=function(){function t(n){if(Object(v.a)(this,t),this.text=void 0,this.texts=void 0,this.fontSize=void 0,this.gap=void 0,this.fontFamily=void 0,this.background=void 0,this.metrics=void 0,n.texts)Object.assign(this,n);else{for(var e=n.colors,a=n.distribution,i=void 0===a?"plastic":a,c=n.gap,r=void 0===c?.1:c,s=n.font,u=n.metrics,l=n.fontSize,d=Object(g.a)(n,S),x={halton:j.a.bind(null,[2,3]),kronecker:p.b.bind(null,[1/Math.pow(2,.5),1/Math.pow(5,.5)]),plastic:B.a.bind(null,2)}[i](null!==0?0:1024*A()|0),h=Array.from(Object(O.a)(32,x)).map((function(t){var n=Object(f.a)(t,2);return{x:2*n[0]-1,y:2*n[1]-1,size:.75+.75*A(),color:e[e.length*A()|0]}})),b=function(t){return{left:u.actualBoundingBoxLeft*t,right:u.actualBoundingBoxRight*t,ascent:u.actualBoundingBoxAscent*t,descent:u.actualBoundingBoxDescent*t}},m=function(){var t=[];h.forEach((function(n){delete n.op;var e=b(n.size);C(n,(function(o){var a=(o.x+1)/2*z,i=(1-o.y)/2*z,c=a-e.left,r=i-e.ascent,s=[c,r,c+e.left+e.right,r+e.ascent+e.descent];s.text=n,t.push(s)}))})),y()(t,(function(n,e){[n,e].forEach((function(n){return t[n].text.op="shrink"}))}));h.forEach((function(t){t.size*="shrink"===t.op?.995:1.005}))},w=0;w<256;w++)m();Object.assign(this,Object(o.a)(Object(o.a)({},d),{},{texts:h,fontSize:l,fontFamily:s,gap:r,metrics:u}))}}return Object(b.a)(t,[{key:"toCanvas",value:function(){var t=this,n=document.createElement("canvas");n.width=z,n.height=z;var e=n.getContext("2d");e.textAlign="center",e.textBaseline="alphabetic";var o=function(n){e.font="".concat(t.fontSize*n.size*(1-t.gap),"px ").concat(t.fontFamily),e.fillStyle=n.color,C(n,(function(n){var o=(n.x+1)/2*z,a=(1-n.y)/2*z;e.fillText(t.text,o,a)}))};return e.fillStyle=t.background,e.fillRect(0,0,z,z),t.texts.forEach(o),n}},{key:"toDataURL",value:function(){return this.toCanvas().toDataURL()}},{key:"toSVG",value:function(){var t=this;return Object(w.renderToStaticMarkup)(Object(k.jsx)("svg",{style:{width:512,height:512,background:this.background},children:this.texts.flatMap((function(n){var e=[],o="".concat(t.fontSize*n.size*(1-t.gap),"px");return C(n,(function(a){var i=(a.x+1)/2*z,c=(1-a.y)/2*z;e.push(Object(k.jsx)("text",{x:i,y:c,style:{fontSize:o},textAnchor:"middle",fill:n.color,children:t.text}))})),e}))}))}}]),t}();function C(t,n){for(var e=t.x,a=t.y,i=Object(g.a)(t,E),c=-1;c<=1;c++)for(var r=-1;r<=1;r++)n(Object(o.a)(Object(o.a)({},i),{},{x:2*c+e,y:2*r+a}))}function L(t){var n=t.font,e=t.text,o=document.createElement("canvas");o.width=z,o.height=z;var a=o.getContext("2d");return a.textAlign="center",a.textBaseline="alphabetic",a.font=n,a.measureText(e)}function M(t){var n=Object(a.useState)(h.first()),e=Object(f.a)(n,2),o=e[0],i=e[1],c=Object(a.useState)(null),r=Object(f.a)(c,2),s=r[0],g=r[1];return Object(a.useEffect)((function(){var t=new x,n=d.a(t),e="Dancing Script",a=function(t){var n=t.fontFamily,e=t.text,o=L({font:"".concat(64,"px ").concat(n),text:e}).width;return z/3/o*64}({fontFamily:e,text:o}),i=L({font:"".concat(a,"px ").concat(e),text:o}),c={background:h.pickone(["#111111","#EEEEEE"]),colors:["#DA97B2","#7EBCBE","#676396"],font:e,text:o,metrics:{actualBoundingBoxAscent:i.actualBoundingBoxAscent,actualBoundingBoxDescent:i.actualBoundingBoxDescent,actualBoundingBoxLeft:i.actualBoundingBoxLeft,actualBoundingBoxRight:i.actualBoundingBoxRight,fontBoundingBoxAscent:i.fontBoundingBoxAscent,fontBoundingBoxDescent:i.fontBoundingBoxDescent,width:i.width},fontSize:a};Object(l.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=D,t.next=3,n.tile(c);case 3:t.t1=t.sent,e=new t.t0(t.t1),g(e);case 6:case"end":return t.stop()}}),t)})))()}),[o]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("input",{value:o,onChange:function(t){return i(t.target.value)}}),s?Object(k.jsxs)("div",{style:{display:"flex"},children:[Object(k.jsx)("div",{style:{width:512,height:512},dangerouslySetInnerHTML:{__html:s.toSVG()}}),Object(k.jsx)("img",{src:s.toDataURL(),alt:""})]}):null]})}e(50);var R=window.templateProps,F=void 0===R?{}:R;F.canvas||r.a.render(Object(k.jsx)(i.a.StrictMode,{children:Object(k.jsx)(M,Object(o.a)({},F))}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.bf61a42b.chunk.js.map