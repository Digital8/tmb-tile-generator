(this["webpackJsonpmake-hello-world"]=this["webpackJsonpmake-hello-world"]||[]).push([[0],{43:function(t,e){},59:function(t,e,n){},60:function(t,e,n){"use strict";n.r(e);var a=n(4),c=n(0),o=n.n(c),i=n(5),r=n(19),s=n.n(r),u=n(2),l=n.n(u),f=n(26),d=n.n(f),h=n(3),b=new(n(27).Chance),x=n(12),p=n(7),j=n(11),v=n(64),g=n(31),m=n(65),O=n(66),w=n(28),y=n.n(w),k=n(29),S=n(1),B=["text","layout","colors","distribution","gap","font","metrics","fontSize"],E=["x","y"],z=["text","background","colors","font"],C=512,F=Math.random;function A(t){return M.apply(this,arguments)}function M(){return(M=Object(i.a)(o.a.mark((function t(e){var n,c,i,r,s,u,l,f,d,h,b;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.text,c=e.background,i=e.colors,r=e.font,s=Object(x.a)(e,z),u="blankie",l=new FontFace(u,'url("'.concat(null!==r&&void 0!==r?r:"https://thatsmyblankie.wpengine.com/wp-content/themes/picostrap-child/fonts/customiser/UnicornsareAwesome.woff2",'")')),t.next=6,l.load();case 6:return document.fonts.add(l),f=L({fontFamily:u,text:n}),d=U({font:"".concat(f,"px ").concat(u),text:n}),h=new D(Object(a.a)({font:u,text:n,metrics:d,fontSize:f,background:c,colors:i},s)),b=h.toCanvas(),t.abrupt("return",b.toDataURL());case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var D=function(){function t(e){if(Object(p.a)(this,t),this.text=void 0,this.texts=void 0,this.fontSize=void 0,this.gap=void 0,this.fontFamily=void 0,this.background=void 0,this.metrics=void 0,this.layout=void 0,e.texts)Object.assign(this,e);else{var n=e.text,c=e.layout,o=e.colors,i=e.distribution,r=void 0===i?"plastic":i,s=e.gap,u=void 0===s?.1:s,l=e.font,f=e.metrics,d=e.fontSize,b=Object(x.a)(e,B),j=function(){if("stacked"===c){for(var t=U({font:"".concat(d,"px ").concat(l),text:n}),e=Math.floor(C/(t.actualBoundingBoxAscent+t.actualBoundingBoxDescent)),a=[],i=0;i<e;i++)for(var s=.5*Math.random(),u=0;u<4;u++)a.push({x:.5*u-1+s,y:2/e*i-1,size:1,color:o[o.length*F()|0]});return a}for(var b={halton:v.a.bind(null,[2,3]),kronecker:g.b.bind(null,[1/Math.pow(2,.5),1/Math.pow(5,.5)]),plastic:m.a.bind(null,2)}[r](null!==0?0:1024*F()|0),x=Array.from(Object(O.a)(32,b)).map((function(t){var e=Object(h.a)(t,2);return{x:2*e[0]-1,y:2*e[1]-1,size:.75+.75*F(),color:o[o.length*F()|0]}})),p=function(t){return{left:f.actualBoundingBoxLeft*t,right:f.actualBoundingBoxRight*t,ascent:f.actualBoundingBoxAscent*t,descent:f.actualBoundingBoxDescent*t}},j=function(){var t=[];x.forEach((function(e){delete e.op;var n=p(e.size);T(e,(function(a){var c=(a.x+1)/2*C,o=(1-a.y)/2*C,i=c-n.left,r=o-n.ascent,s=[i,r,i+n.left+n.right,r+n.ascent+n.descent];s.text=e,t.push(s)}))})),y()(t,(function(e,n){[e,n].forEach((function(e){return t[e].text.op="shrink"}))}));x.forEach((function(t){t.size*="shrink"===t.op?.995:1.005}))},w=0;w<256;w++)j();return x}();Object.assign(this,Object(a.a)({text:n,texts:j,fontSize:d,fontFamily:l,gap:u,metrics:f},b))}}return Object(j.a)(t,[{key:"toCanvas",value:function(){var t=this,e=document.createElement("canvas");e.width=C,e.height=C;var n=e.getContext("2d");n.textAlign="center",n.textBaseline="alphabetic";var a=function(e){n.font="".concat(t.fontSize*e.size*(1-t.gap),"px ").concat(t.fontFamily),n.fillStyle=e.color,T(e,(function(e){var a=(e.x+1)/2*C,c=(1-e.y)/2*C;n.fillText(t.text,a,c)}))};return n.fillStyle=t.background,n.fillRect(0,0,C,C),t.texts.forEach(a),e}},{key:"toDataURL",value:function(){return this.toCanvas().toDataURL()}},{key:"toSVG",value:function(){var t=this;return Object(k.renderToStaticMarkup)(Object(S.jsx)("svg",{style:{width:512,height:512,background:this.background},xmlns:"http://www.w3.org/2000/svg",children:this.texts.flatMap((function(e){var n=[],a="".concat(t.fontSize*e.size*(1-t.gap),"px");return T(e,(function(c){var o=(c.x+1)/2*C,i=(1-c.y)/2*C;n.push(Object(S.jsx)("text",{x:o,y:i,style:{fontSize:a,fontFamily:t.fontFamily},textAnchor:"middle",fill:e.color,children:t.text}))})),n}))}))}}]),t}();function T(t,e){for(var n=t.x,c=t.y,o=Object(x.a)(t,E),i=-1;i<=1;i++)for(var r=-1;r<=1;r++)e(Object(a.a)(Object(a.a)({},o),{},{x:2*i+n,y:2*r+c}))}function L(t){var e=t.fontFamily,n=t.text;return 128/U({font:"".concat(64,"px ").concat(e),text:n}).width*64}function U(t){var e=t.font,n=t.text,a=document.createElement("canvas");a.width=C,a.height=C;var c=a.getContext("2d");return c.textAlign="center",c.textBaseline="alphabetic",c.font=e,c.measureText(n)}function J(t){var e,n=Object(u.useState)(["#DA97B2","#7EBCBE","#676396"]),a=Object(h.a)(n,2),c=a[0],r=a[1],s=Object(u.useState)("stacked"),l=Object(h.a)(s,2),f=l[0],d=l[1],x=Object(u.useState)(b.pickone(["#111111","#EEEEEE"])),p=Object(h.a)(x,2),j=p[0],v=p[1],g=Object(u.useState)("https://thatsmyblankie.wpengine.com/wp-content/themes/picostrap-child/fonts/customiser/UnicornsareAwesome.woff2"),m=Object(h.a)(g,2),O=m[0],w=m[1],y=Object(u.useState)(null!==(e=t.text)&&void 0!==e?e:b.first()),k=Object(h.a)(y,2),B=k[0],E=k[1],z=Object(u.useState)(null),C=Object(h.a)(z,2),F=C[0],M=C[1];return Object(u.useEffect)((function(){Object(i.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=M,t.next=3,A({background:j,colors:c,text:B,font:O,layout:f});case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})))()}),[]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"Layout"}),Object(S.jsx)("input",{value:f,onChange:function(t){return d(t.target.value)}})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"Font"}),Object(S.jsx)("input",{value:O,onChange:function(t){return w(t.target.value)}})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"Text"}),Object(S.jsx)("input",{value:B,onChange:function(t){return E(t.target.value)}})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"Background"}),Object(S.jsx)("input",{value:j,onChange:function(t){return v(t.target.value)}})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"Colors"}),Object(S.jsx)("input",{value:JSON.stringify(c),onChange:function(t){return r(JSON.parse(t.target.value))}})]}),Object(S.jsx)("div",{children:F?Object(S.jsx)("img",{src:F}):null})]})}n(59);var R=window.templateProps,N=void 0===R?{}:R;if(window.location.search.length>1){var G=s.a.parse(window.location.search.slice(1));Object.assign(N,G)}if(N.svg)Object(i.a)(o.a.mark((function t(){var e,n,a,c,i,r,s,u,l,f,d,h;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=N.text,a=N.background,c=N.colors,i=N.layout,r=null!==(e=N.font)&&void 0!==e?e:"https://thatsmyblankie.wpengine.com/wp-content/themes/picostrap-child/fonts/customiser/UnicornsareAwesome.woff2",s="blankie",u=new FontFace(s,'url("'.concat(r,'")')),t.next=6,u.load();case 6:document.fonts.add(u),l=L({fontFamily:s,text:n}),f=U({font:"".concat(l,"px ").concat(s),text:n}),d=new D({font:s,text:n,metrics:f,fontSize:l,background:a,colors:c,layout:i}),h=document.createElement("div"),N.debug?h.innerText=JSON.stringify(N):h.innerHTML=d.toSVG(),document.body.appendChild(h);case 13:case"end":return t.stop()}}),t)})))();else if(N.pdf){var V=document.createElement("img");V.src="https://cdn.make.cm/make/t/ba4c9684-a7af-4ca3-b929-291d6c196be3/k/639f5a8a-3056-48ff-bc67-c7613b9ecdca.b6d6a70ce98c5defcbc0282c9660dbc9/sync?".concat(s.a.stringify({format:"svg",customSize:{width:"512",height:"512",unit:"px"},data:Object(a.a)(Object(a.a)({},N),{},{pdf:!1,svg:!0}),fetchedAt:(new Date).getTime().toString()})),document.body.appendChild(V)}else d.a.render(Object(S.jsx)(l.a.StrictMode,{children:Object(S.jsx)(J,Object(a.a)({},N))}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.e6352e63.chunk.js.map